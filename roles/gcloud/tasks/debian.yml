---
# roles/gcloud/tasks/debian.yml

- name: "Debian | Apt gpg key."
  apt_key:
    url: "https://packages.cloud.google.com/apt/doc/apt-key.gpg "
  become: true
  tags:
  - packages

- name: "Debian | Install prerequisites."
  package:
    name: apt-transport-https
    state: latest
  become: true
  tags:
  - packages

- name: "Debian | apt repo."
  apt_repository:
    repo: "deb https://packages.cloud.google.com/apt cloud-sdk-stretch main"
    state: present
    filename: "google-cloud-sdk"
  become: true
  tags:
  - packages

- name: "Debian | Install"
  package:
    name: google-cloud-sdk
  become: true
  tags:
  - packages
